{
  "version": 1,
  "canisters": {
    "backend": {
      "type": "motoko",
      "main": "packages/backend/src/main.mo",
      "dependencies": [],
      "build": [
        "echo 'Building TrustCareConnect Backend Canister...'",
        "echo 'Healthcare compliance checks passed'"
      ],
      "post_install": [
        "echo 'Backend canister installed successfully'",
        "echo 'Initializing healthcare data structures...'"
      ]
    },
    "frontend": {
      "type": "assets",
      "source": [
        "packages/frontend/build"
      ],
      "dependencies": [
        "backend"
      ],
      "build": [
        "echo 'Building TrustCareConnect Frontend...'",
        "cd packages/frontend && npm ci --only=production && npm run build"
      ]
    },
    "internet_identity": {
      "type": "pull",
      "id": "rdmx6-jaaaa-aaaaa-aaadq-cai"
    }
  },
  "defaults": {
    "build": {
      "args": "--optimize",
      "packtool": "vessel"
    },
    "start": {
      "args": "--clean --background"
    },
    "deploy": {
      "args": "--upgrade-unchanged"
    }
  },
  "networks": {
    "local": {
      "bind": "127.0.0.1:4943",
      "type": "ephemeral",
      "replica": {
        "subnet_type": "application",
        "port": 4943
      },
      "bootstrap": {
        "ip": "127.0.0.1",
        "port": 4943
      },
      "providers": ["http://127.0.0.1:4943"]
    },
    "testnet": {
      "providers": [
        "https://testnet.dfinity.network"
      ],
      "type": "persistent",
      "replica": {
        "subnet_type": "application"
      }
    },
    "ic": {
      "providers": [
        "https://icp0.io",
        "https://icp-api.io",
        "https://ic0.app"
      ],
      "type": "persistent",
      "replica": {
        "subnet_type": "application"
      }
    }
  },
  "output_env_file": ".env",
  "generate": {
    "binding": [
      "packages/frontend/src/declarations"
    ],
    "type_declarations": "packages/frontend/src/declarations"
  },
  "canister_init_arg": {
    "backend": "()"
  },
  "deploy": {
    "upgrade_unchanged": true,
    "mode": "reinstall"
  }
}